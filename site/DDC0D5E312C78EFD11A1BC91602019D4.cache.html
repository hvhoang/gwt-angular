<div data-ng-controller="com.asayama.gwt.angular.site.examples.client.ImageResourceExampleResources">
  <p>
    GWT Angular supports the inclusion of GWT's <code>ImageResource</code>
    into the HTML views via a directive, <code>data-gwt-image-resource</code>.
    Unlike simply setting the <code>&lt;IMG&gt;</code> src attribute, by using
    the <code>ImageResource</code>, the image files you include in your page
    become cache safe, in a sense that its cache header in HTTP response can
    be set to indefinitely cache the file in the browser, much like any other
    resources.
  </p>
  <div class="panel panel-primary">
    <div class="panel-body" data-ng-include="DEMO_URL"></div>
  </div>

  <h2>View</h2>
  <p>
    The directive, <code>data-gwt-image-resource</code> takes an Angular 
    variables, STREET, WTC, BOAT, and PEOPLE. These variables are bound to the
    controller via Angular scope to <code>ImageResource</code> objects.
  </p>
  <pre data-gwt-prettify="view"></pre>

  <h2>Controller</h2>
  <p>
    The controller for the view declares the variables, STREET, WTC, BOAT, and
    PEOPLE. They are declared as <code>public final</code> so that GWT Angular's
    automatic binding takes care of the binding of these values to Angular's
    scope. The objects assigned to these variables are declared in <code>
    ImageResourceDemoResources</code>, which extends GWT's <code>ClientBundle
    </code>. The methods, <code>street()</code>, <code>wtc()</code>, <code>
    boat()</code>, <code>people()</code> each are associated with an image file,
    indicated by the <code>@Source</code> annotation right above it. The names
    of files should be something that makes it easy to identify the image, and
    you do not need to worry about making these file names cache safe. GWT 
    compiler hashes the name of the file, so that the browser can safely cache
    the file. If the image content is updated, keeping the file name is the 
    same, GWT compiler will generate a new name for it, so that the newer 
    version of the file is loaded by the browser.
  </p><p>
    In this example, the following resource names are compiled as follows.
  </p><p style="white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
    <span class="glyphicon glyphicon-picture"></span>
    street.jpg
    <span class="glyphicon glyphicon-arrow-right"></span> {{ STREET_URL }}
  </p><p style="white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
    <span class="glyphicon glyphicon-picture"></span>
    wtc.jpg
    <span class="glyphicon glyphicon-arrow-right"></span> {{ WTC_URL }}
  </p><p style="white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
    <span class="glyphicon glyphicon-picture"></span>
    boat.jpg
    <span class="glyphicon glyphicon-arrow-right"></span> {{ BOAT_URL }}
  </p><p style="white-space:nowrap;text-overflow:ellipsis;overflow:hidden;">
    <span class="glyphicon glyphicon-picture"></span>
    people.jpg
    <span class="glyphicon glyphicon-arrow-right"></span> {{ PEOPLE_URL }}
  </p><p>
    On a browser that supports it, you may see the images compiled into <code>
    data:</code> URL for directly embedded into the resulting HTML. Otherwise,
    you should see <code>http:</code> URL for asynchronously loading from the
    server via hashed filename.
  </p>

  <pre data-gwt-prettify="controller"></pre>
  
  <p>
    <code>ImageResources</code> class seen in the controller class is an 
    extension of GWT Angular's <code>ClientResources</code> class.
  </p>
  
  <pre data-gwt-prettify="resources"></pre>

  <h2>Configuration</h2>
  <p>
    The following modules are required in the gwt.xml.
  </p>
  <pre data-gwt-prettify="config"></pre>

  <p>
    The following Maven dependencies are required in the pom.xml.
  </p>
  <pre class="prettyprint">
&lt;dependency&gt;
  &lt;groupId&gt;com.asayama.gwt&lt;/groupId&gt;
  &lt;artifactId&gt;gwt-angular-resources&lt;/artifactId&gt;
  &lt;version&gt;{{ PROJECT_VERSION }}&lt;/version&gt;
&lt;/dependency&gt;</pre>

  <p>
    You can also browse the full source code on Github.
  </p><p>
    <a href="{{ GITHUB_SOURCE_URL }}/gwt-angular-site/gwt-angular-examples/ImageResource">
      {{ GITHUB_SOURCE_URL }}/gwt-angular-site/gwt-angular-examples/ImageResource</a>
  </p>

</div>
