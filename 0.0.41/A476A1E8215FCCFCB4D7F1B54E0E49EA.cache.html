<div>
  <p>
    One of the core concepts of AJAX is asynchronous loading of data from the
    server, such that the loading of the dynamic contents do not block the user
    interaction with the screen. In this example, we demonstrate the use of
    HttpClient to obtain JSON data from a server (instead of a more traditional
    XML data, but the concept remains the same).
  </p><p>
    Note that the HttpClient used in this example is based on GWT's 
    <code>RequestBuilder</code> which is adapted to AngularJS framework, opposed
    to AngularJS's <code>$http</code> service object.
  </p><p>
    The HTTP GET request is sent asynchronously without blocking the user
    interaction. The response is a JSON object, (to be more precise, in this
    example, an array of JSON objects), which is parsed and loaded into an
    overlay type called <code>JSArray&lt;Mayor&gt;</code>. In the HTML view,
    we use <code>data-ng-repeat</code> directive to iterate over the JSON 
    objects in this array, and print the attributes of the objects to the screen
    as a list.
  </p>
  
  <div class="panel panel-primary">
    <div class="panel-body" data-ng-include="HTTP_CLIENT_DEMO_URL"></div>
  </div>

  <h2>Controller</h2>
  <p>
    The HTTP call is made upon controller's <code>onControllerLoad()</code> 
    method. In order not to block the UI, the returned value is trapped by a
    callback object, <code>HttpClientCallback</code>. If the response is 
    successful, the response text is parsed into an array of JSON objects, and
    assigned to the <code>mayors</code> variable, which acts as a model in
    this example.
  </p>
  <pre class="prettyprint lang-java" data-ng-bind-html="HTTP_CLIENT_CONTROLLER_CONTENT | prettyprint"></pre>

  <h2>View</h2>
  <p>
    The model object, <code>mayors</code> is wired to the HTML view via the
    method <code>getMayors()</code>. The directive, <code>data-ng-repeat</code>
    iterates through the array returned by this method, and for each item in the
    array, we print a list item <code>&lt;li&gt;</code> showing the attributes
    of the object. The items are printing in the order they were returned.
  </p>
  <pre class="prettyprint lang-html" data-ng-bind-html="HTTP_CLIENT_VIEW_CONTENT | prettyprint"></pre>
  <!--
  <p>
    <a href="https://github.com/kyoken74/gwt-angular/issues/44">
      TODO Bring some structure to the description of examples.</a>
  </p>
  <pre class="prettyprint lang-js" data-ng-bind-html="JSON_CONTENT | prettyprint"></pre>
  -->

  <h2>Configuration</h2>
  <p>
    The following modules are required in the gwt.xml.
  </p>
  <pre class="prettyprint">
&lt;inherits name="com.asayama.gwt.angular.NG" /&gt;
&lt;inherits name="com.asayama.gwt.angular.http.HttpClientModule" /&gt;</pre>

  <p>
    The following Maven dependencies are required in the pom.xml.
  </p>
  <pre class="prettyprint">
&lt;dependency&gt;
  &lt;groupId&gt;com.asayama.gwt&lt;/groupId&gt;
  &lt;artifactId&gt;gwt-angular-core&lt;/artifactId&gt;
  &lt;version&gt;{{ PROJECT_VERSION }}&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
  &lt;groupId&gt;com.asayama.gwt&lt;/groupId&gt;
  &lt;artifactId&gt;gwt-angular-http&lt;/artifactId&gt;
  &lt;version&gt;{{ PROJECT_VERSION }}&lt;/version&gt;
&lt;/dependency&gt;</pre>

</div>